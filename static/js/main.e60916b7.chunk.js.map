{"version":3,"sources":["useCannon.js","resources/OrbitControls.js","App.js","serviceWorker.js","index.js"],"names":["context","React","createContext","Provider","children","useState","CANNON","world","useEffect","broadphase","solver","iterations","gravity","set","useRender","step","value","useCannon","fn","deps","props","ref","useRef","useContext","body","addBody","removeBody","current","position","copy","quaternion","OrbitControls","object","domElement","this","undefined","document","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","MIDDLE","target0","clone","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","max","min","makeSafe","radius","scale","add","panOffset","setFromSpherical","lookAt","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","dollyIn","dollyScale","dollyOut","handleMouseDownPan","event","clientX","clientY","preventDefault","focus","button","ctrlKey","metaKey","shiftKey","handleMouseDownRotate","handleMouseDownDolly","addEventListener","subVectors","x","y","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchMoveRotate","handleTouchMoveDollyPan","prototype","Object","create","EventDispatcher","constructor","defineProperties","center","get","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","Plane","mass","addShape","receiveShadow","attach","args","color","Box","castShadow","Controls","camera","useThree","apply","Boolean","location","hostname","match","ReactDOM","render","mouse","raycaster","boxes","setBoxes","className","onCreated","gl","shadowMap","THREE","onClick","round","random","intensity","penumbra","map","box","index","key","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e60916b7.chunk.js","sourcesContent":["import * as CANNON from \"cannon\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport { useRender } from \"react-three-fiber\";\n\n// Cannon-world context provider\nconst context = React.createContext();\nexport function Provider({ children }) {\n  // Set up physics\n  const [world] = useState(() => new CANNON.World());\n  useEffect(() => {\n    world.broadphase = new CANNON.NaiveBroadphase();\n    world.solver.iterations = 200;\n    world.gravity.set(0, 0, -9.8);\n  }, [world]);\n\n  // Run world stepper every frame\n  useRender(() => world.step(1 / 60));\n  // Distribute world via context\n  return <context.Provider value={world} children={children} />;\n}\n\n// Custom hook to maintain a world physics body\nexport function useCannon({ ...props }, fn, deps = []) {\n  const ref = useRef();\n  // Get cannon world object\n  const world = useContext(context);\n  // Instanciate a physics body\n  const [body] = useState(() => new CANNON.Body(props));\n  useEffect(() => {\n    // Call function so the user can add shapes\n    fn(body);\n    // Add body to world on mount\n    world.addBody(body);\n    // Remove body on unmount\n    return () => world.removeBody(body);\n  }, deps);\n\n  useRender(() => {\n    if (ref.current) {\n      // Transport cannon physics into the referenced threejs object\n      ref.current.position.copy(body.position);\n      ref.current.quaternion.copy(body.quaternion);\n    }\n  });\n\n  return ref;\n}\n","import {\n  EventDispatcher,\n  MOUSE,\n  Quaternion,\n  Spherical,\n  Vector2,\n  Vector3\n} from \"three\";\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function(object, domElement) {\n  this.object = object;\n\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = {\n    LEFT: MOUSE.LEFT,\n    MIDDLE: MOUSE.MIDDLE,\n    RIGHT: MOUSE.RIGHT\n  };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function() {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function() {\n    return spherical.theta;\n  };\n\n  this.saveState = function() {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function() {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = (function() {\n    var offset = new Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new Quaternion().setFromUnitVectors(\n      object.up,\n      new Vector3(0, 1, 0)\n    );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new Vector3();\n    var lastQuaternion = new Quaternion();\n\n    return function update() {\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(\n        scope.minAzimuthAngle,\n        Math.min(scope.maxAzimuthAngle, spherical.theta)\n      );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(\n        scope.minPolarAngle,\n        Math.min(scope.maxPolarAngle, spherical.phi)\n      );\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(\n        scope.minDistance,\n        Math.min(scope.maxDistance, spherical.radius)\n      );\n\n      // move target to panned location\n      scope.target.add(panOffset);\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (\n        zoomChanged ||\n        lastPosition.distanceToSquared(scope.object.position) > EPS ||\n        8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n      ) {\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  })();\n\n  this.dispose = function() {\n    scope.domElement.removeEventListener(\"contextmenu\", onContextMenu, false);\n    scope.domElement.removeEventListener(\"mousedown\", onMouseDown, false);\n    scope.domElement.removeEventListener(\"wheel\", onMouseWheel, false);\n\n    scope.domElement.removeEventListener(\"touchstart\", onTouchStart, false);\n    scope.domElement.removeEventListener(\"touchend\", onTouchEnd, false);\n    scope.domElement.removeEventListener(\"touchmove\", onTouchMove, false);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    window.removeEventListener(\"keydown\", onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: \"change\" };\n  var startEvent = { type: \"start\" };\n  var endEvent = { type: \"end\" };\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY_PAN: 4\n  };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new Spherical();\n  var sphericalDelta = new Spherical();\n\n  var scale = 1;\n  var panOffset = new Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new Vector2();\n  var rotateEnd = new Vector2();\n  var rotateDelta = new Vector2();\n\n  var panStart = new Vector2();\n  var panEnd = new Vector2();\n  var panDelta = new Vector2();\n\n  var dollyStart = new Vector2();\n  var dollyEnd = new Vector2();\n  var dollyDelta = new Vector2();\n\n  function getAutoRotationAngle() {\n    return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = (function() {\n    var v = new Vector3();\n\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  var panUp = (function() {\n    var v = new Vector3();\n\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = (function() {\n    var offset = new Vector3();\n\n    return function pan(deltaX, deltaY) {\n      var element =\n        scope.domElement === document\n          ? scope.domElement.body\n          : scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(((scope.object.fov / 2) * Math.PI) / 180.0);\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft(\n          (2 * deltaX * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n        panUp(\n          (2 * deltaY * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(\n          (deltaX * (scope.object.right - scope.object.left)) /\n            scope.object.zoom /\n            element.clientWidth,\n          scope.object.matrix\n        );\n        panUp(\n          (deltaY * (scope.object.top - scope.object.bottom)) /\n            scope.object.zoom /\n            element.clientHeight,\n          scope.object.matrix\n        );\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"\n        );\n        scope.enablePan = false;\n      }\n    };\n  })();\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set(event.clientX, event.clientY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(event) {\n    // console.log( 'handleMouseUp' );\n  }\n\n  function handleMouseWheel(event) {\n    // console.log( 'handleMouseWheel' );\n\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    // console.log( 'handleKeyDown' );\n\n    var needsUpdate = false;\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n    }\n\n    if (needsUpdate) {\n      // prevent the browser from scrolling on cursor keys\n      event.preventDefault();\n\n      scope.update();\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    //console.log( 'handleTouchStartDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyStart.set(0, distance);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchMoveRotate(event) {\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    //console.log( 'handleTouchMoveDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyEnd.set(0, distance);\n\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n\n      dollyIn(dollyDelta.y);\n\n      dollyStart.copy(dollyEnd);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panEnd.set(x, y);\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n      pan(panDelta.x, panDelta.y);\n\n      panStart.copy(panEnd);\n    }\n\n    scope.update();\n  }\n\n  function handleTouchEnd(event) {\n    //console.log( 'handleTouchEnd' );\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    // Prevent the browser from scrolling.\n\n    event.preventDefault();\n\n    // Manually set the focus since calling preventDefault above\n    // prevents the browser from setting it automatically.\n\n    scope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n    switch (event.button) {\n      case scope.mouseButtons.LEFT:\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n          if (scope.enablePan === false) return;\n\n          handleMouseDownPan(event);\n\n          state = STATE.PAN;\n        } else {\n          if (scope.enableRotate === false) return;\n\n          handleMouseDownRotate(event);\n\n          state = STATE.ROTATE;\n        }\n\n        break;\n\n      case scope.mouseButtons.MIDDLE:\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.RIGHT:\n        if (scope.enablePan === false) return;\n\n        handleMouseDownPan(event);\n\n        state = STATE.PAN;\n\n        break;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener(\"mousemove\", onMouseMove, false);\n      document.addEventListener(\"mouseup\", onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n\n        handleMouseMovePan(event);\n\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableZoom === false ||\n      (state !== STATE.NONE && state !== STATE.ROTATE)\n    )\n      return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent(startEvent);\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableKeys === false ||\n      scope.enablePan === false\n    )\n      return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n\n        handleTouchStartRotate(event);\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n\n        handleTouchStartDollyPan(event);\n\n        state = STATE.TOUCH_DOLLY_PAN;\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?\n\n        handleTouchMoveRotate(event);\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        if (state !== STATE.TOUCH_DOLLY_PAN) return; // is this needed?\n\n        handleTouchMoveDollyPan(event);\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  //\n\n  scope.domElement.addEventListener(\"contextmenu\", onContextMenu, false);\n\n  scope.domElement.addEventListener(\"mousedown\", onMouseDown, false);\n  scope.domElement.addEventListener(\"wheel\", onMouseWheel, false);\n\n  scope.domElement.addEventListener(\"touchstart\", onTouchStart, false);\n  scope.domElement.addEventListener(\"touchend\", onTouchEnd, false);\n  scope.domElement.addEventListener(\"touchmove\", onTouchMove, false);\n\n  window.addEventListener(\"keydown\", onKeyDown, false);\n\n  // force an update at start\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(EventDispatcher.prototype);\nOrbitControls.prototype.constructor = OrbitControls;\n\nObject.defineProperties(OrbitControls.prototype, {\n  center: {\n    get: function() {\n      console.warn(\"THREE.OrbitControls: .center has been renamed to .target\");\n      return this.target;\n    }\n  },\n\n  // backward compatibility\n\n  noZoom: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      return !this.enableZoom;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      this.enableZoom = !value;\n    }\n  },\n\n  noRotate: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      return !this.enableRotate;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      this.enableRotate = !value;\n    }\n  },\n\n  noPan: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      return !this.enablePan;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      this.enablePan = !value;\n    }\n  },\n\n  noKeys: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      return !this.enableKeys;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      this.enableKeys = !value;\n    }\n  },\n\n  staticMoving: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      return !this.enableDamping;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      this.enableDamping = !value;\n    }\n  },\n\n  dynamicDampingFactor: {\n    get: function() {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      return this.dampingFactor;\n    },\n\n    set: function(value) {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      this.dampingFactor = value;\n    }\n  }\n});\n\nexport { OrbitControls };\n","import * as THREE from \"three\";\nimport * as CANNON from \"cannon\";\nimport React, { useRef, useState } from \"react\";\nimport { Canvas, useThree, useRender, apply } from \"react-three-fiber\";\nimport { useCannon, Provider } from \"./useCannon\";\nimport { OrbitControls } from \"./resources/OrbitControls\";\nimport \"./styles.css\";\n\nfunction Plane({ position }) {\n  // Register plane as a physics body with zero mass\n  const ref = useCannon({ mass: 0 }, body => {\n    body.addShape(new CANNON.Plane());\n    body.position.set(...position);\n  });\n  return (\n    <mesh ref={ref} receiveShadow>\n      <planeBufferGeometry attach=\"geometry\" args={[100, 100]} />\n      <meshPhongMaterial attach=\"material\" color=\"#323247\" />\n    </mesh>\n  );\n}\n\nfunction Box({ position }) {\n  // Register box as a physics body with mass\n  const ref = useCannon({ mass: 100000 }, body => {\n    body.addShape(new CANNON.Box(new CANNON.Vec3(1, 1, 1)));\n    body.position.set(...position);\n  });\n  return (\n    <mesh ref={ref} castShadow receiveShadow>\n      <boxGeometry attach=\"geometry\" args={[2, 2, 2]} />\n      <meshStandardMaterial attach=\"material\" />\n    </mesh>\n  );\n}\n\napply({ OrbitControls });\n\nfunction Controls(props) {\n  const ref = useRef();\n  const { camera } = useThree();\n  useRender(() => {\n    ref.current.update();\n  });\n\n  return <orbitControls ref={ref} args={[camera]} {...props} />;\n}\n\nexport default function App() {\n  const { camera, mouse, raycaster } = useThree();\n  const [boxes, setBoxes] = useState([\n    [1, 0, 2],\n    [2, 1, 2],\n    [0, 0, 2],\n    [-1, 1, 8],\n    [-2, 2, 23],\n    [2, -1, 13]\n  ]);\n\n  function addBox() {\n    setBoxes([\n      ...boxes,\n      [\n        Math.round(Math.random() * 100) - 55,\n        Math.round(Math.random() * 100) - 55,\n        50\n      ]\n    ]);\n  }\n  return (\n    <div className=\"main\">\n      <Canvas\n        camera={{ position: [0, 0, 100], type: \"Perspective Camera\" }}\n        onCreated={({ gl }) => (\n          (gl.shadowMap.enabled = true),\n          (gl.shadowMap.type = THREE.PCFSoftShadowMap)\n        )}\n        onClick={addBox}\n      >\n        <Controls />\n        <ambientLight intensity={0.7} />\n        <spotLight\n          intensity={0.6}\n          position={[30, 30, 50]}\n          angle={0.5}\n          penumbra={0.1}\n          castShadow\n        />\n        <Provider>\n          <Plane position={[5, 5, 5]} />\n          {boxes.map((box, index) => (\n            <Box position={box} key={box + index} />\n          ))}\n        </Provider>\n      </Canvas>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}