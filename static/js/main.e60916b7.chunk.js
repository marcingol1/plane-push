(window["webpackJsonpstuff-break"]=window["webpackJsonpstuff-break"]||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},18:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(10),i=n.n(r),c=(n(18),n(7)),s=n(3),u=n(1),m=n(5),l=n(4),d=n(2),p=a.a.createContext();function h(e){var t=e.children,n=Object(o.useState)((function(){return new m.World})),r=Object(c.a)(n,1)[0];return Object(o.useEffect)((function(){r.broadphase=new m.NaiveBroadphase,r.solver.iterations=200,r.gravity.set(0,0,-9.8)}),[r]),Object(l.c)((function(){return r.step(1/60)})),a.a.createElement(p.Provider,{value:r,children:t})}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(d.a)({},e),r=Object(o.useRef)(),i=Object(o.useContext)(p),s=Object(o.useState)((function(){return new m.Body(a)})),u=Object(c.a)(s,1)[0];return Object(o.useEffect)((function(){return t(u),i.addBody(u),function(){return i.removeBody(u)}}),n),Object(l.c)((function(){r.current&&(r.current.position.copy(u.position),r.current.quaternion.copy(u.quaternion))})),r}var f=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new u.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:u.MOUSE.LEFT,MIDDLE:u.MOUSE.MIDDLE,RIGHT:u.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),c=i.NONE},this.update=function(){var t=new u.Vector3,a=(new u.Quaternion).setFromUnitVectors(e.up,new u.Vector3(0,1,0)),r=a.clone().inverse(),b=new u.Vector3,f=new u.Quaternion;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(a),m.setFromVector3(t),n.autoRotate&&c===i.NONE&&M(2*Math.PI/60/60*n.autoRotateSpeed),m.theta+=l.theta,m.phi+=l.phi,m.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=d,m.radius=Math.max(n.minDistance,Math.min(n.maxDistance,m.radius)),n.target.add(p),t.setFromSpherical(m),t.applyQuaternion(r),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),p.set(0,0,0)),d=1,!!(h||b.distanceToSquared(n.object.position)>s||8*(1-f.dot(n.object.quaternion))>s)&&(n.dispatchEvent(o),b.copy(n.object.position),f.copy(n.object.quaternion),h=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Z,!1),n.domElement.removeEventListener("mousedown",x,!1),n.domElement.removeEventListener("wheel",H,!1),n.domElement.removeEventListener("touchstart",U,!1),n.domElement.removeEventListener("touchend",F,!1),n.domElement.removeEventListener("touchmove",Y,!1),document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",D,!1),window.removeEventListener("keydown",V,!1)};var n=this,o={type:"change"},a={type:"start"},r={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},c=i.NONE,s=1e-6,m=new u.Spherical,l=new u.Spherical,d=1,p=new u.Vector3,h=!1,b=new u.Vector2,f=new u.Vector2,E=new u.Vector2,g=new u.Vector2,v=new u.Vector2,y=new u.Vector2,w=new u.Vector2,O=new u.Vector2,j=new u.Vector2;function P(){return Math.pow(.95,n.zoomSpeed)}function M(e){l.theta-=e}function T(e){l.phi-=e}var R=function(){var e=new u.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),p.add(e)}}(),S=function(){var e=new u.Vector3;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),p.add(e)}}(),L=function(){var e=new u.Vector3;return function(t,o){var a=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var r=n.object.position;e.copy(r).sub(n.target);var i=e.length();i*=Math.tan(n.object.fov/2*Math.PI/180),R(2*t*i/a.clientHeight,n.object.matrix),S(2*o*i/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(R(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),S(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function C(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){g.set(e.clientX,e.clientY)}function x(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;N(e),c=i.PAN}else{if(!1===n.enableRotate)return;!function(e){b.set(e.clientX,e.clientY)}(e),c=i.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),c=i.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;N(e),c=i.PAN}c!==i.NONE&&(document.addEventListener("mousemove",A,!1),document.addEventListener("mouseup",D,!1),n.dispatchEvent(a))}}function A(e){if(!1!==n.enabled)switch(e.preventDefault(),c){case i.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),E.subVectors(f,b).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;M(2*Math.PI*E.x/t.clientHeight),T(2*Math.PI*E.y/t.clientHeight),b.copy(f),n.update()}(e);break;case i.DOLLY:if(!1===n.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),j.subVectors(O,w),j.y>0?C(P()):j.y<0&&k(P()),w.copy(O),n.update()}(e);break;case i.PAN:if(!1===n.enablePan)return;!function(e){v.set(e.clientX,e.clientY),y.subVectors(v,g).multiplyScalar(n.panSpeed),L(y.x,y.y),g.copy(v),n.update()}(e)}}function D(e){!1!==n.enabled&&(document.removeEventListener("mousemove",A,!1),document.removeEventListener("mouseup",D,!1),n.dispatchEvent(r),c=i.NONE)}function H(e){!1===n.enabled||!1===n.enableZoom||c!==i.NONE&&c!==i.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(a),function(e){e.deltaY<0?k(P()):e.deltaY>0&&C(P()),n.update()}(e),n.dispatchEvent(r))}function V(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:L(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:L(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:L(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:L(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function U(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=i.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);w.set(0,a)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(r,i)}}(e),c=i.TOUCH_DOLLY_PAN;break;default:c=i.NONE}c!==i.NONE&&n.dispatchEvent(a)}}function Y(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(c!==i.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),E.subVectors(f,b).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;M(2*Math.PI*E.x/t.clientHeight),T(2*Math.PI*E.y/t.clientHeight),b.copy(f),n.update()}(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(c!==i.TOUCH_DOLLY_PAN)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);O.set(0,a),j.set(0,Math.pow(O.y/w.y,n.zoomSpeed)),C(j.y),w.copy(O)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(r,i),y.subVectors(v,g).multiplyScalar(n.panSpeed),L(y.x,y.y),g.copy(v)}n.update()}(e);break;default:c=i.NONE}}function F(e){!1!==n.enabled&&(n.dispatchEvent(r),c=i.NONE)}function Z(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Z,!1),n.domElement.addEventListener("mousedown",x,!1),n.domElement.addEventListener("wheel",H,!1),n.domElement.addEventListener("touchstart",U,!1),n.domElement.addEventListener("touchend",F,!1),n.domElement.addEventListener("touchmove",Y,!1),window.addEventListener("keydown",V,!1),this.update()};(f.prototype=Object.create(u.EventDispatcher.prototype)).constructor=f,Object.defineProperties(f.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});n(23);function E(e){var t=e.position,n=b({mass:0},(function(e){var n;e.addShape(new m.Plane),(n=e.position).set.apply(n,Object(s.a)(t))}));return a.a.createElement("mesh",{ref:n,receiveShadow:!0},a.a.createElement("planeBufferGeometry",{attach:"geometry",args:[100,100]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:"#323247"}))}function g(e){var t=e.position,n=b({mass:1e5},(function(e){var n;e.addShape(new m.Box(new m.Vec3(1,1,1))),(n=e.position).set.apply(n,Object(s.a)(t))}));return a.a.createElement("mesh",{ref:n,castShadow:!0,receiveShadow:!0},a.a.createElement("boxGeometry",{attach:"geometry",args:[2,2,2]}),a.a.createElement("meshStandardMaterial",{attach:"material"}))}function v(e){var t=Object(o.useRef)(),n=Object(l.d)().camera;return Object(l.c)((function(){t.current.update()})),a.a.createElement("orbitControls",Object.assign({ref:t,args:[n]},e))}Object(l.b)({OrbitControls:f});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement((function(){var e=Object(l.d)(),t=(e.camera,e.mouse,e.raycaster,Object(o.useState)([[1,0,2],[2,1,2],[0,0,2],[-1,1,8],[-2,2,23],[2,-1,13]])),n=Object(c.a)(t,2),r=n[0],i=n[1];return a.a.createElement("div",{className:"main"},a.a.createElement(l.a,{camera:{position:[0,0,100],type:"Perspective Camera"},onCreated:function(e){var t=e.gl;return t.shadowMap.enabled=!0,t.shadowMap.type=u.PCFSoftShadowMap},onClick:function(){i([].concat(Object(s.a)(r),[[Math.round(100*Math.random())-55,Math.round(100*Math.random())-55,50]]))}},a.a.createElement(v,null),a.a.createElement("ambientLight",{intensity:.7}),a.a.createElement("spotLight",{intensity:.6,position:[30,30,50],angle:.5,penumbra:.1,castShadow:!0}),a.a.createElement(h,null,a.a.createElement(E,{position:[5,5,5]}),r.map((function(e,t){return a.a.createElement(g,{position:e,key:e+t})})))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.e60916b7.chunk.js.map